# =============================================================================
# MULTI-TENANT KUBERNETES BLOG TEMPLATE - ENVIRONMENT VARIABLES EXAMPLE
# =============================================================================
# Copy this file to .env and fill in your actual values
# This file shows all available environment variables for the system

# =============================================================================
# CLIENT CONFIGURATION
# =============================================================================

# Client identification
CLIENT_NAME=your-client-name
ENVIRONMENT=production
CLIENT_DOMAIN=your-client.production.local

# Namespace (auto-generated based on client name and environment)
NAMESPACE=blog-your-client-production

# =============================================================================
# DATABASE CONFIGURATION (MySQL)
# =============================================================================

# Database connection
DATABASE_HOST=your-client-mysql
DATABASE_PORT=3306
DATABASE_NAME=blog_db
DATABASE_USER=blog_user
DATABASE_PASSWORD=your-secure-database-password-32-chars

# Database URL (auto-constructed)
DATABASE_URL=mysql://blog_user:your-secure-database-password@your-client-mysql:3306/blog_db

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection
REDIS_HOST=your-client-redis
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password-32-chars

# Redis URL (auto-constructed)
REDIS_URL=redis://default:your-secure-redis-password@your-client-redis:6379

# =============================================================================
# ELASTICSEARCH CONFIGURATION
# =============================================================================

# Elasticsearch connection
ELASTICSEARCH_HOST=your-client-elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your-secure-elasticsearch-password

# Elasticsearch URL (auto-constructed)
ELASTICSEARCH_URL=http://elastic:your-secure-elasticsearch-password@your-client-elasticsearch:9200

# =============================================================================
# APPLICATION SECRETS
# =============================================================================

# JWT configuration
JWT_SECRET=your-jwt-secret-64-characters-long-for-token-signing-security
JWT_EXPIRES_IN=24h

# Session configuration
SESSION_SECRET=your-session-secret-64-characters-long-for-secure-sessions
SESSION_COOKIE_NAME=blog-session

# Application secrets
APP_SECRET=your-app-secret-key-64-characters-long-for-general-encryption
WEBHOOK_SECRET=your-webhook-secret-32-chars

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Cloud API integration
CLOUD_API_ENDPOINT=https://api.your-cloud-service.com
CLOUD_API_KEY=your-cloud-api-key-64-characters-long

# Bitbucket integration
BITBUCKET_REPO=your-org/your-repo
BITBUCKET_WEBHOOK_SECRET=your-bitbucket-webhook-secret

# =============================================================================
# EMAIL CONFIGURATION (MailCrab for testing)
# =============================================================================

# SMTP settings (MailCrab)
SMTP_HOST=your-client-mailcrab
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@your-client.local

# Mail testing interface
MAILCRAB_WEB_PORT=1080

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================

# Service discovery
BACKEND_SERVICE_NAME=your-client-backend
FRONTEND_SERVICE_NAME=your-client-frontend
MYSQL_SERVICE_NAME=your-client-mysql
REDIS_SERVICE_NAME=your-client-redis
ELASTICSEARCH_SERVICE_NAME=your-client-elasticsearch
MAILCRAB_SERVICE_NAME=your-client-mailcrab

# External ports (auto-assigned by template generator)
BACKEND_EXTERNAL_PORT=30000
FRONTEND_EXTERNAL_PORT=30001
MYSQL_EXTERNAL_PORT=30002
REDIS_EXTERNAL_PORT=30003
ELASTICSEARCH_EXTERNAL_PORT=30004
MAILCRAB_EXTERNAL_PORT=30005

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment settings
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# CORS settings
CORS_ORIGIN=http://your-client.production.local
CORS_CREDENTIALS=true

# API settings
API_PREFIX=/api
API_VERSION=v1

# Pagination defaults
DEFAULT_PAGE_SIZE=10
MAX_PAGE_SIZE=100

# File upload limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Logging configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Health check endpoints
HEALTH_CHECK_PATH=/health
METRICS_PATH=/metrics

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# Security headers
ENABLE_HELMET=true
ENABLE_CORS=true
ENABLE_RATE_LIMITING=true

# SSL/TLS (for production)
SSL_ENABLED=false
SSL_CERT_PATH=/certs/tls.crt
SSL_KEY_PATH=/certs/tls.key

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================
# These variables are only used in development environment

# Local development URLs
DEV_BACKEND_URL=http://localhost:3000
DEV_FRONTEND_URL=http://localhost:5173
DEV_DATABASE_URL=mysql://root:password@localhost:3306/blog_dev

# Debug settings
DEBUG=false
VERBOSE_LOGGING=false

# =============================================================================
# TEMPLATE GENERATOR VARIABLES
# =============================================================================
# These are used by the PowerShell template generator

# Client metadata
CLIENT_DESCRIPTION=Multi-tenant blog application
CLIENT_CONTACT_EMAIL=admin@your-client.com
CLIENT_ORGANIZATION=Your Organization Name

# Deployment settings
DEPLOYMENT_STRATEGY=RollingUpdate
REPLICA_COUNT_BACKEND=3
REPLICA_COUNT_FRONTEND=2

# Resource limits
MEMORY_LIMIT_BACKEND=512Mi
MEMORY_REQUEST_BACKEND=256Mi
CPU_LIMIT_BACKEND=500m
CPU_REQUEST_BACKEND=200m

MEMORY_LIMIT_FRONTEND=256Mi
MEMORY_REQUEST_FRONTEND=128Mi
CPU_LIMIT_FRONTEND=200m
CPU_REQUEST_FRONTEND=100m

# Storage configuration
MYSQL_STORAGE_SIZE=50Gi
REDIS_STORAGE_SIZE=10Gi
ELASTICSEARCH_STORAGE_SIZE=100Gi

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. All passwords should be at least 32 characters long
# 2. JWT and session secrets should be 64 characters long
# 3. Never commit the actual .env file to version control
# 4. Use different secrets for each environment (dev/staging/production)
# 5. The template generator will automatically fill most of these values
# 6. External ports are auto-assigned and tracked in used-ports.json
# 7. Service names follow the pattern: {client-name}-{service-type}
# 8. Domains follow the pattern: {client-name}.{environment}.local
#
# =============================================================================
